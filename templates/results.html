<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assessment Results</title>
    <style>
        body {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            font-family: Arial, sans-serif;
            line-height: 1.6;
        }
        .tendency-section {
            margin: 30px 0;
            padding: 20px;
            border-radius: 8px;
        }
        .high-tendency {
            background-color: #e8f5e9;
            border-left: 5px solid #4caf50;
        }
        .moderate-tendency {
            background-color: #fff3e0;
            border-left: 5px solid #ff9800;
        }
        .low-tendency {
            background-color: #fbe9e7;
            border-left: 5px solid #f44336;
        }
        .section-intro {
            font-size: 1.1em;
            margin-bottom: 20px;
            color: #555;
        }
        .style-summary {
            margin: 15px 0;
            padding: 15px;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .style-summary h4 {
            color: #2c3e50;
            margin: 0 0 10px 0;
            font-size: 1.2em;
        }
        .summary-note {
            font-style: italic;
            color: #666;
            margin-top: 30px;
            padding: 15px;
            background-color: #f5f5f5;
            border-radius: 5px;
        }
        .action-links {
            margin-top: 30px;
            text-align: center;
        }
        .button {
            display: inline-block;
            padding: 12px 25px;
            background-color: #4CAF50;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            transition: background-color 0.3s;
            margin: 0 10px;
            font-size: 16px;
        }
        .button:hover {
            background-color: #45a049;
        }
        .button.primary {
            background-color: #2196F3;
            font-weight: bold;
        }
        .button.primary:hover {
            background-color: #1976D2;
        }
        .chart-container {
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
        }
        .chart-container img {
            max-width: 100%;
            height: auto;
            display: inline-block;
        }
        .results-container {
            background-color: #f9f9f9;
            padding: 20px;
            border-radius: 5px;
            margin: 20px 0;
        }
        .next-step {
            background-color: #e3f2fd;
            padding: 25px;
            border-radius: 8px;
            margin: 30px 0;
            border-left: 5px solid #2196F3;
        }
        .next-step h3 {
            color: #1976D2;
            margin-top: 0;
            font-size: 1.3em;
        }
        .next-step p {
            margin-bottom: 0;
            font-size: 1.1em;
        }
    </style>
</head>
<body>
    <h1>Your Leadership Style Assessment Results</h1>

    <div class="results-container">
        <h2>Assessment Summary Chart:</h2>
        <div class="chart-container">
            <img src="data:image/png;base64,{{ chart_data }}" alt="Results Chart">
        </div>
    </div>

    <div class="results-container">
        <h2>Your Leadership Style Summary</h2>

        <div class="intro-section">
            <p>{{ summary.intro_paragraph }}</p>
        </div>

        {# High Tendency Section (if any) #}
        <div class="tendency-section high-tendency">
            <h3>High Tendency</h3>
            <p class="section-intro">{{ summary.tendency_explanations['High'] }}</p>
            {% for style in summary.style_summaries if style.tendency == 'High' %}
            <div class="style-summary">
                <h4>{{ style.style }}</h4>
                <p>{{ style.description }}</p>
            </div>
            {% endfor %}
        </div>

        {# Moderate Tendency Section (if any) #}
        <div class="tendency-section moderate-tendency">
            <h3>Moderate Tendency</h3>
            <p class="section-intro">{{ summary.tendency_explanations['Moderate'] }}</p>
            {% for style in summary.style_summaries if style.tendency == 'Moderate' %}
            <div class="style-summary">
                <h4>{{ style.style }}</h4>
                <p>{{ style.description }}</p>
            </div>
            {% endfor %}
        </div>

        {# Low Tendency Section (if any) #}
        <div class="tendency-section low-tendency">
            <h3>Low Tendency</h3>
            <p class="section-intro">{{ summary.tendency_explanations['Low'] }}</p>
            {% for style in summary.style_summaries if style.tendency == 'Low' %}
            <div class="style-summary">
                <h4>{{ style.style }}</h4>
                <p>{{ style.description }}</p>
            </div>
            {% endfor %}
        </div>
    </div>

    <div class="next-step">
        <h3>Help Us Improve This Assessment</h3>
        <p>Now that you've seen your leadership style results, we'd appreciate your feedback about this assessment experience. Your input helps us make this tool better for future users and ensures we're providing valuable insights.</p>
    </div>

    <div class="action-links">
        <a href="/survey" class="button primary">Continue to Feedback Survey</a>
        <a href="/" class="button">Take the Assessment Again</a>
    </div>
</body>
</html>